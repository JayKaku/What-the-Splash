(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{33:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(1),c=n.n(a),s=n(12),i=n.n(s),o=(n(33),n(14)),u=n(15),d=n(18),l=n(17),b=n(16),f=(n(40),function(){return Object(r.jsx)("header",{children:"What the Splash!"})}),j="IMAGES_LOAD",p="IMAGES_LOAD_SUCCESS",O="IMAGES_LOAD_FAIL",h="STATS_LOAD",g="STATS_LOAD_SUCCESS",v="STATS_LOAD_FAIL",x=function(e){return{type:p,images:e}},m=function(e){return{type:h,id:e}},w=function(e,t){return{type:g,id:e,downloads:t}},S=function(e){return{type:v,id:e}},L=(n(41),n(9)),_=n(27),y=(n(42),function(e){var t=e.children,n=e.loading,a=Object(_.a)(e,["children","loading"]);return Object(r.jsx)("button",Object(L.a)(Object(L.a)({className:"button",disabled:n},a),{},{children:n?"Loading...":t}))});y.defaultProps={loading:!1};var k=y,E=(n(43),function(e){var t=e.stats;return t?Object(r.jsxs)("span",{className:"stats",children:[t.error&&"\ud83e\udd2f Error!",t.isLoading&&"\ud83d\ude44 Loading...",null!==t.downloads&&"\ud83e\udd18 ".concat(t.downloads)]}):Object(r.jsx)("span",{className:"stats",children:"Loading..."})}),A=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={images:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.loadImages()}},{key:"render",value:function(){var e=this.props,t=e.images,n=e.isLoading,a=e.error,c=e.loadImages,s=e.imageStats;return Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("section",{className:"grid",children:t.map((function(e){return Object(r.jsxs)("div",{className:"item item-".concat(Math.ceil(e.height/e.width)),children:[Object(r.jsx)(E,{stats:s[e.id]}),Object(r.jsx)("img",{src:e.urls.small,alt:e.user.username})]},e.id)}))}),a&&Object(r.jsx)("div",{className:"error",children:JSON.stringify(a)}),Object(r.jsx)(k,{onClick:function(){return!n&&c()},loading:n,children:"Load More"})]})}}]),n}(a.Component),D=Object(b.b)((function(e){return{isLoading:e.isLoading,error:e.error,images:e.images,imageStats:e.imageStats}}),(function(e){return{loadImages:function(){return e({type:j})}}}))(A),I=n(8),N=n(26),T=n(5),C=n.n(T),F=n(7),M=n(23),P="?client_id=5f96323678d05ff0c4eb264ef184556868e303b32a2db88ecbf15746e6f25e02",U="https://api.unsplash.com/photos/",X=function(){var e=Object(M.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(U).concat(P,"&per_page=3&page=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!(n.status>=400)){e.next=8;break}throw new Error(r.errors);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(M.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(U,"/").concat(t,"/statistics").concat(P));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!(n.status>=400)){e.next=8;break}throw new Error(r.errors);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=C.a.mark(V),B=C.a.mark(W),R=function(e){return e.nextPage};function V(){var e,t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(F.e)(R);case 3:return e=n.sent,n.next=6,Object(F.b)(X,e);case 6:return t=n.sent,n.next=9,Object(F.d)(x(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(F.d)((r=n.t0.toString(),{type:O,error:r}));case 15:case"end":return n.stop()}var r}),J,null,[[0,11]])}function W(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.g)(j,V);case 2:case"end":return e.stop()}}),B)}var q=C.a.mark(H),z=C.a.mark(K);function H(e){var t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=0;case 1:if(!(t<3)){r.next=18;break}return r.prev=2,r.next=5,Object(F.d)(m(e));case 5:return r.next=7,Object(F.b)(G,e);case 7:return n=r.sent,r.next=10,Object(F.d)(w(e,n.downloads.total));case 10:return r.abrupt("return",!0);case 13:r.prev=13,r.t0=r.catch(2);case 15:t++,r.next=1;break;case 18:return r.next=20,Object(F.d)(S(e));case 20:case"end":return r.stop()}}),q,null,[[2,13]])}function K(){var e,t,n;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(F.f)(p);case 3:e=r.sent,t=e.images,n=0;case 6:if(!(n<t.length)){r.next=12;break}return r.next=9,Object(F.c)(H,t[n].id);case 9:n++,r.next=6;break;case 12:r.next=0;break;case 14:case"end":return r.stop()}}),z)}var Q=C.a.mark(Y);function Y(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)([W(),K()]);case 2:case"end":return e.stop()}}),Q)}var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return!0;case p:case O:return!1;default:return e}},$=n(24),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===p?[].concat(Object($.a)(e),Object($.a)(t.images)):e},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.error;case j:case p:return null;default:return e}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return e+1;default:return e}},re=n(11),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(L.a)(Object(L.a)({},e),{},Object(re.a)({},t.id,{isLoading:!0,downloads:null,error:!1}));case g:return Object(L.a)(Object(L.a)({},e),{},Object(re.a)({},t.id,{isLoading:!1,downloads:t.downloads,error:!1}));case v:return Object(L.a)(Object(L.a)({},e),{},Object(re.a)({},t.id,{isLoading:!1,downloads:null,error:!0}));default:return e}},ce=Object(I.c)({isLoading:Z,images:ee,error:te,nextPage:ne,imageStats:ae}),se=function(){var e=Object(N.a)(),t=Object(I.e)(ce,Object(I.d)(Object(I.a)(e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));return e.run(Y),t}(),ie=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)(b.a,{store:se,children:Object(r.jsx)(c.a.Fragment,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)(f,{}),Object(r.jsx)(D,{})]})})})}}]),n}(a.Component),oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(ie,{})}),document.getElementById("root")),oe()}},[[45,1,2]]]);
//# sourceMappingURL=main.07c3acbe.chunk.js.map